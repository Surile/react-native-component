---
title: Form
Form: An example component to help you get started.
---

import { FormPreview } from '@docs/components/examples';

<div className='h-5' />

<Tabs defaultValue="preview">
  <TabsList>
    <TabsTrigger value="preview">Preview</TabsTrigger>
    <TabsTrigger value="code">Code</TabsTrigger>
  </TabsList>
  <TabsContent value="preview">
    <div id="preview" className='*:hidden scroll-m-20' aria-hidden>
      ## Preview
    </div>
    <PreviewCard preview={<FormPreview />} />
  </TabsContent>
  <TabsContent value="code">
    ```json doc-gen:file
    {
      "file": "./node_modules/@tastien/react-native-component/src/examples/DemoForm/index.tsx",
      "codeblock": {
        "lang": "tsx"
      }
    }
    ```
  </TabsContent>
</Tabs>

## 安装

<Tabs defaultValue='cli'>
  <TabsList>
    <TabsTrigger id='cli' value='cli'>
      CLI
    </TabsTrigger>
  </TabsList>
  <TabsContent value='cli'>
    <CommandTabs
      args={[
        'add',
        'https://react-native-component-docs.vercel.app/r/form.json',
      ]}
    />
  </TabsContent>
</Tabs>

### 使用

```tsx
import { Form, Card, Toast, Field, Space, Button } from '@/components';

<Form
  form={form}
  onFinish={(values) => {
    console.log(values);
    Toast(JSON.stringify(values));
  }}
  initialValues={{
    AAA: 'CCC',
  }}
>
  <Form.Item
    name='username'
    rules={[
      {
        required: true,
        message: '请输入用户名',
      },
      {
        validator: (_, v) => {
          console.log(v);
          return Promise.resolve();
        },
      },
    ]}
    validateTrigger='onEndEditing'
  >
    <Field.TextInput required title='用户名' placeholder='请输入用户名' />
  </Form.Item>
  <Form.Item
    name='password'
    rules={[
      {
        required: true,
        message: '请输入密码',
      },
    ]}
  >
    <Field.TextInput
      required
      secureTextEntry
      title='密码'
      placeholder='请输入密码'
    />
  </Form.Item>
  <Form.Item dependencies={['password']}>
    {({ getFieldValue, setFieldsValue }) => {
      console.log(getFieldValue('password'));
      return (
        <Form.Item name='password333'>
          <Field.TextInput
            title='其他'
            placeholder='请输入其他'
            onChange={(t) => {
              console.log('set AAA');
              setFieldsValue({
                AAA: t,
              });
            }}
          />
        </Form.Item>
      );
    }}
  </Form.Item>

  <Space head>
    <Button
      text='管理员'
      danger
      onPress={() => {
        form.setFieldsValue({
          username: 'admin',
        });
      }}
    />

    <Button text='提交' type='primary' onPress={form.submit} />

    <Button
      text='重置'
      type='ghost'
      onPress={() => {
        form.resetFields(['username', 'password']);
      }}
    />
    <Button
      text='重置所有'
      type='ghost'
      onPress={() => {
        form.resetFields(['username', 'password', 'password333']);
      }}
    />
    <Button
      text='校验 username'
      type='ghost'
      onPress={() => {
        form
          .validateFields(['username'])
          .then((d) => {
            console.log(d);
          })
          .catch((e) => {
            console.log(e);
          });
      }}
    />
  </Space>
</Form>;
```
